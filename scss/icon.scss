body {
    background: #000;
}

svg {
    height: 50vmin;
    margin: 0 1vw;
}

$speed: .7;

.right,
.left,
.center {
    fill: #fff;
}

.borders path {
    fill: #fff;
}

.borders {
    mask : url(#border-mask);

    &__second {
        mask : url(#border-mask2);
    }
    &__reversed {
        mask : url(#border-mask3);
    }
    &__static {
        mask: none;
    }
}

.mask {  
    stroke-width: 5px;
    stroke: #fff;
    stroke-dasharray: 286;
    stroke-dashoffset: -286;
    stroke-linecap: square;
    animation: mask-animation #{$speed * 4}s ease-in-out #{$speed * 2}s infinite;

    &__second {
        animation-delay: .1s;
    }
    &__reversed {
        animation-delay: .1s;
        animation-direction: reverse;
    }
}

.center,
.left,
.right {
    fill: none;
    stroke: #fff;
    stroke-width: 0.5;
    stroke-dasharray: 290%;
    stroke-dashoffset: -290%;
    transform: scale(0.98);
    transform-origin: center center;
    animation: stroke-animation #{$speed * 3}s ease-in-out forwards,
               fill-animation #{$speed * 3}s ease-in-out  forwards;
}

.left,
.right {
    animation: stroke-animation #{$speed * 3}s ease-in-out #{$speed * .5}s forwards,
               fill-animation #{$speed * 3}s ease-in-out forwards;
}

// 3d
.icon3d {
    //perspective: 500;
}
.core {
    animation: rotation #{$speed * 3}s ease-in-out #{$speed * .5}s infinite;
    
    transform-origin: center center;

    polygon {
        fill: #fff;
    }
}

@keyframes mask-animation {
    0% {
        stroke-dashoffset: -286;
    }
    50% {
        stroke-dashoffset: -572;
    }
    100% {
        stroke-dashoffset: -858;
    }
}

@keyframes stroke-animation {
    0% {
        stroke-dashoffset: -290%;
    }
    100% {
        stroke-dashoffset: -580%;
    }
}

@keyframes fill-animation {
    0% {
        fill: #fff0;
    }
    45% {
        fill: #fff0;
    }
    100% {
        fill: #fff;
    }
}

@keyframes rotation {
    0% {
        transform: rotateY(0);
    }
    50% {
        transform: rotateY(180deg);
    }
    100% {
       transform: rotateY(360deg);
    }
}